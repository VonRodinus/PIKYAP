/* Ð›Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° â„–2
Ð¦ÐµÐ»ÑŒ:

ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹: Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ðµ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð° Ñ‡Ð¸ÑÐ»Ð°, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‡Ð¸ÑÐ»Ð° Ð½Ð° Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñƒ Ð¸ Ð½Ð°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð²ÑÐµÑ… Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ» Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ Ð¾Ñ‚ 1 Ð´Ð¾ N (Ð³Ð´Ðµ N â€” Ñ‡Ð¸ÑÐ»Ð¾, Ð²Ð²Ð¾Ð´Ð¸Ð¼Ð¾Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼).
ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ†Ð¸ÐºÐ»Ð¾Ð², ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‰Ð¸Ñ… ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¹ Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹.

Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ:

Ð—Ð°Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ñ†ÐµÐ»Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾ ð‘.

Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð´Ð»Ñ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð° Ñ‡Ð¸ÑÐ»Ð° N.

Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸, ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð»Ð¸ Ñ‡Ð¸ÑÐ»Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼.

ÐÐ°Ð¹Ñ‚Ð¸ Ð²ÑÐµ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ‡Ð¸ÑÐ»Ð° Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ Ð¾Ñ‚ 1 Ð´Ð¾ ð‘ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñ‹ Ñ‡Ð¸ÑÐ»Ð°.

Ð”Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð³Ð¾ Ñ‡Ð¸ÑÐ»Ð° Ð²Ñ‹Ñ‡Ð¸ÑÐ»Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð» Ð¸ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð½Ð° ÑÐºÑ€Ð°Ð½.
*/




use std::io;

//Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð° Ñ‡Ð¸ÑÐ»Ð°
fn factorial(num: u32) -> u64 {
    let mut result: u64 = 1;
    for i in 1..=num {
        result *= i as u64;
    }
    result
}

//Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ñ‡Ð¸ÑÐ»Ð° Ð½Ð° Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñƒ
fn is_prime(num: u32) -> bool {
    if num < 2 {
        return false;
    }
    for i in 2..=((num as f64).sqrt() as u32) {
        if num % i == 0 {
            return false;
        }
    }
    true
}



//ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
fn main() {

    //Ð—Ð°Ð¿Ñ€Ð¾Ñ Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ñ‡Ð¸ÑÐ»Ð° n
    println!("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‡Ð¸ÑÐ»Ð¾ N: ");
    let mut input = String::new();
    io::stdin().read_line(&mut input).expect("ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð²Ð¾Ð´Ð°");
    let n: u32 = input.trim().parse().expect("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ñ‡Ð¸ÑÐ»Ð¾");
    
    
    //ÐÐ°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»Ð° Ñ‡Ð¸ÑÐ»Ð° n
    let factorial_n = factorial(n);
    println!("Ð¤Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð» Ñ‡Ð¸ÑÐ»Ð° {}: {}", n, factorial_n);


    //ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‡Ð¸ÑÐ»Ð° n Ð½Ð° Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñƒ
    if is_prime(n) {
        println!("Ð§Ð¸ÑÐ»Ð¾ {} ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼.", n);
    } else {
        println!("Ð§Ð¸ÑÐ»Ð¾ {} Ð½Ðµ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼.", n);
    }


    //ÐÐ°Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð²ÑÐµÑ… Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ» Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ Ð¾Ñ‚ 1 Ð´Ð¾ n
    println!("ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ‡Ð¸ÑÐ»Ð° Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ Ð¾Ñ‚ 1 Ð´Ð¾ {}:", n);
    for i in 1..=n {
        if is_prime(i) {
            let fact = factorial(i);
            println!("{}, Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð°Ð»: {}", i, fact);
        }
    }
}
